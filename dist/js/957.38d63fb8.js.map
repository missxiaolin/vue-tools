{"version":3,"file":"js/957.38d63fb8.js","mappings":"+IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAG,GAAGF,EAAG,KAAK,CAACG,YAAY,QAAQ,CAACH,EAAG,KAAK,CAACI,MAAM,CAAEC,OAAuB,IAAfP,EAAIO,QAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,SAAS,EAAE,IAAI,CAACV,EAAIW,GAAG,WAAWT,EAAG,KAAK,CAACI,MAAM,CAAEC,OAAuB,IAAfP,EAAIO,QAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,SAAS,EAAE,IAAI,CAACV,EAAIW,GAAG,WAAWT,EAAG,KAAK,CAACI,MAAM,CAAEC,OAAuB,IAAfP,EAAIO,QAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,SAAS,EAAE,IAAI,CAACV,EAAIW,GAAG,WAAWT,EAAG,KAAK,CAACI,MAAM,CAAEC,OAAuB,IAAfP,EAAIO,QAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,SAAS,EAAE,IAAI,CAACV,EAAIW,GAAG,WAAWT,EAAG,KAAK,CAACI,MAAM,CAAEC,OAAuB,IAAfP,EAAIO,QAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,SAAS,EAAE,IAAI,CAACV,EAAIW,GAAG,cACxrB,EACIC,EAAkB,CAAC,WAAY,IAAIZ,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACF,EAAIW,GAAG,WAAWT,EAAG,MAAM,CAACF,EAAIW,GAAG,WAAWT,EAAG,MAAM,CAACF,EAAIW,GAAG,WAAWT,EAAG,MAAM,CAACF,EAAIW,GAAG,WAAWT,EAAG,MAAM,CAACF,EAAIW,GAAG,YAC1O,GCmBA,G,SAAA,CACAE,MAAAA,CAAAA,EACAC,OACA,OACAP,OAAAA,EAEA,EACAQ,UAEAC,OAAAA,iBAAAA,SAAAA,KAAAA,UAAAA,EACA,EACAC,UAEAD,OAAAA,oBAAAA,SAAAA,KAAAA,SACA,EACAE,QAAAA,CAEAC,WAEA,kDAEA,KACAC,EAAAA,SAAAA,IACAC,EAAAA,KAAAA,EAAAA,UAAAA,IAGA,QACAC,SAAAA,gBAAAA,WAAAA,SAAAA,KAAAA,UAEA,QACA,2BAGA,UACAC,EAAAA,GAGA,aACA,EAEAb,SAAAA,GAGA,+BACA,kCACA,UAEA,MACAY,SAAAA,gBAAAA,WAAAA,SAAAA,KAAAA,UAEA,WAUA,aAEA,MAGA,OACAE,GAAAA,EAEAA,EAAAA,EAEAF,SAAAA,KAAAA,UAAAA,EACAA,SAAAA,gBAAAA,UAAAA,EAEAG,sBAAAA,GAEA,CAEA,aACA,MACA,OACAD,GAAAA,EAEAA,EAAAA,EAEAF,SAAAA,KAAAA,UAAAA,EACAA,SAAAA,gBAAAA,UAAAA,EACAG,sBAAAA,GAEA,CApCA,IAEAC,IAGAC,GAgCA,KC/GkR,I,WCQ9QC,GAAY,OACd,EACA7B,EACAa,GACA,EACA,KACA,WACA,MAIF,EAAegB,EAAiB,O","sources":["webpack://a/./src/views/post.vue","webpack://a/src/views/post.vue","webpack://a/./src/views/post.vue?6326","webpack://a/./src/views/post.vue?bdab"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._m(0),_c('ul',{staticClass:\"navs\"},[_c('li',{class:{ active: _vm.active === 0 },on:{\"click\":function($event){return _vm.scrollTo(0)}}},[_vm._v(\"nav-0\")]),_c('li',{class:{ active: _vm.active === 1 },on:{\"click\":function($event){return _vm.scrollTo(1)}}},[_vm._v(\"nav-1\")]),_c('li',{class:{ active: _vm.active === 2 },on:{\"click\":function($event){return _vm.scrollTo(2)}}},[_vm._v(\"nav-2\")]),_c('li',{class:{ active: _vm.active === 3 },on:{\"click\":function($event){return _vm.scrollTo(3)}}},[_vm._v(\"nav-3\")]),_c('li',{class:{ active: _vm.active === 4 },on:{\"click\":function($event){return _vm.scrollTo(4)}}},[_vm._v(\"nav-4\")])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('div',[_vm._v(\"nav-0\")]),_c('div',[_vm._v(\"nav-1\")]),_c('div',[_vm._v(\"nav-2\")]),_c('div',[_vm._v(\"nav-3\")]),_c('div',[_vm._v(\"nav-4\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 内容区域 -->\n    <div class=\"content\">\n      <div>nav-0</div>\n      <div>nav-1</div>\n      <div>nav-2</div>\n      <div>nav-3</div>\n      <div>nav-4</div>\n    </div>\n    <!-- 导航区域 -->\n    <ul class=\"navs\">\n      <li :class=\"{ active: active === 0 }\" @click=\"scrollTo(0)\">nav-0</li>\n      <li :class=\"{ active: active === 1 }\" @click=\"scrollTo(1)\">nav-1</li>\n      <li :class=\"{ active: active === 2 }\" @click=\"scrollTo(2)\">nav-2</li>\n      <li :class=\"{ active: active === 3 }\" @click=\"scrollTo(3)\">nav-3</li>\n      <li :class=\"{ active: active === 4 }\" @click=\"scrollTo(4)\">nav-4</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {},\n  data() {\n    return {\n      active: 0, // 当前激活的导航索引\n    };\n  },\n  mounted() {\n    // 监听滚动事件\n    window.addEventListener(\"scroll\", this.onScroll, false);\n  },\n  destroy() {\n    // 必须移除监听器，不然当该vue组件被销毁了，监听器还在就会出错\n    window.removeEventListener(\"scroll\", this.onScroll);\n  },\n  methods: {\n    // 滚动监听器\n    onScroll() {\n      // 获取所有锚点元素\n      const navContents = document.querySelectorAll(\".content div\");\n      // 所有锚点元素的 offsetTop\n      const offsetTopArr = [];\n      navContents.forEach((item) => {\n        offsetTopArr.push(item.offsetTop);\n      });\n      // 获取当前文档流的 scrollTop\n      const scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 定义当前点亮的导航下标\n      let navIndex = 0;\n      for (let n = 0; n < offsetTopArr.length; n++) {\n        // 如果 scrollTop 大于等于第n个元素的 offsetTop 则说明 n-1 的内容已经完全不可见\n        // 那么此时导航索引就应该是n了\n        if (scrollTop >= offsetTopArr[n]) {\n          navIndex = n;\n        }\n      }\n      this.active = navIndex;\n    },\n    // 跳转到指定索引的元素\n    scrollTo(index) {\n      // 获取目标的 offsetTop\n      // css选择器是从 1 开始计数，我们是从 0 开始，所以要 +1\n      const targetOffsetTop = document.querySelector(\n        `.content div:nth-child(${index + 1})`\n      ).offsetTop;\n      // 获取当前 offsetTop\n      let scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 定义一次跳 50 个像素，数字越大跳得越快，但是会有掉帧得感觉，步子迈大了会扯到蛋\n      const STEP = 50;\n      // 判断是往下滑还是往上滑\n      if (scrollTop > targetOffsetTop) {\n        // 往上滑\n        smoothUp();\n      } else {\n        // 往下滑\n        smoothDown();\n      }\n      // 定义往下滑函数\n      function smoothDown() {\n        // 如果当前 scrollTop 小于 targetOffsetTop 说明视口还没滑到指定位置\n        if (scrollTop < targetOffsetTop) {\n          // 如果和目标相差距离大于等于 STEP 就跳 STEP\n          // 否则直接跳到目标点，目标是为了防止跳过了。\n          if (targetOffsetTop - scrollTop >= STEP) {\n            scrollTop += STEP;\n          } else {\n            scrollTop = targetOffsetTop;\n          }\n          document.body.scrollTop = scrollTop;\n          document.documentElement.scrollTop = scrollTop;\n          // 关于 requestAnimationFrame 可以自己查一下，在这种场景下，相比 setInterval 性价比更高\n          requestAnimationFrame(smoothDown);\n        }\n      }\n      // 定义往上滑函数\n      function smoothUp() {\n        if (scrollTop > targetOffsetTop) {\n          if (scrollTop - targetOffsetTop >= STEP) {\n            scrollTop -= STEP;\n          } else {\n            scrollTop = targetOffsetTop;\n          }\n          document.body.scrollTop = scrollTop;\n          document.documentElement.scrollTop = scrollTop;\n          requestAnimationFrame(smoothUp);\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 内容区的样式 */\n.content {\n  background-color: #fff;\n  width: 500px;\n}\n.content div {\n  width: 100%;\n  height: 600px;\n  font-size: 36px;\n  padding: 20px;\n  background-color: rgb(22, 93, 255);\n}\n.content div:nth-child(2n) {\n  background-color: #847ec3;\n}\n/* 导航栏的样式 */\n.navs {\n  position: fixed;\n  top: 80px;\n  left: 700px;\n  background-color: #efefef;\n}\n.navs li {\n  padding: 0 20px;\n  line-height: 1.6;\n  font-size: 24px;\n}\n/* 当导航被点亮后改变颜色 */\n.navs .active {\n  color: #fff;\n  background-color: rgb(22, 93, 255);\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./post.vue?vue&type=template&id=2d9adced&scoped=true&\"\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&id=2d9adced&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d9adced\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_m","staticClass","class","active","on","$event","scrollTo","_v","staticRenderFns","props","data","mounted","window","destroy","methods","onScroll","navContents","offsetTopArr","document","navIndex","scrollTop","requestAnimationFrame","smoothUp","smoothDown","component"],"sourceRoot":""}