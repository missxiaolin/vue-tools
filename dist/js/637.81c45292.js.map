{"version":3,"file":"js/637.81c45292.js","mappings":"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","sources":["webpack://a/./src/views/ceshi5.vue","webpack://a/./src/components/tinymce/index.vue","webpack://a/./src/components/tinymce/components/EditorImage.vue","webpack://a/src/components/tinymce/components/EditorImage.vue","webpack://a/./src/components/tinymce/components/EditorImage.vue?a756","webpack://a/./src/components/tinymce/components/EditorImage.vue?b867","webpack://a/./src/components/tinymce/plugins.js","webpack://a/./src/components/tinymce/toolbar.js","webpack://a/./src/components/tinymce/dynamicLoadScript.js","webpack://a/src/components/tinymce/index.vue","webpack://a/./src/components/tinymce/index.vue?e929","webpack://a/./src/components/tinymce/index.vue?e4ee","webpack://a/src/views/ceshi5.vue","webpack://a/./src/views/ceshi5.vue?dada","webpack://a/./src/views/ceshi5.vue?c98e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"components-container\"},[_c('tinymce',{attrs:{\"height\":300},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tinymce-container\",class:{ fullscreen: _vm.fullscreen },style:({ width: _vm.containerWidth })},[_c('textarea',{staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-custom-btn-container\"},[_c('editorImage',{staticClass:\"editor-upload-btn\",attrs:{\"color\":\"#1890ff\"},on:{\"successCBK\":_vm.imageSuccessCBK}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"el-icon-upload\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\" upload \")]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"multiple\":true,\"file-list\":_vm.fileList,\"show-file-list\":true,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload,\"action\":\"https://httpbin.org/post\",\"list-type\":\"picture-card\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\" Click upload \")])],1),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\" Cancel \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\" Confirm \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"upload-container\">\n    <el-button :style=\"{background:color,borderColor:color}\" icon=\"el-icon-upload\" size=\"mini\" type=\"primary\" @click=\" dialogVisible=true\">\n      upload\n    </el-button>\n    <el-dialog :visible.sync=\"dialogVisible\">\n      <el-upload\n        :multiple=\"true\"\n        :file-list=\"fileList\"\n        :show-file-list=\"true\"\n        :on-remove=\"handleRemove\"\n        :on-success=\"handleSuccess\"\n        :before-upload=\"beforeUpload\"\n        class=\"editor-slide-upload\"\n        action=\"https://httpbin.org/post\"\n        list-type=\"picture-card\"\n      >\n        <el-button size=\"small\" type=\"primary\">\n          Click upload\n        </el-button>\n      </el-upload>\n      <el-button @click=\"dialogVisible = false\">\n        Cancel\n      </el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">\n        Confirm\n      </el-button>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import { getToken } from 'api/qiniu'\n\nexport default {\n  name: 'EditorSlideUpload',\n  props: {\n    color: {\n      type: String,\n      default: '#1890ff'\n    }\n  },\n  data() {\n    return {\n      dialogVisible: false,\n      listObj: {},\n      fileList: []\n    }\n  },\n  methods: {\n    checkAllSuccess() {\n      return Object.keys(this.listObj).every(item => this.listObj[item].hasSuccess)\n    },\n    handleSubmit() {\n      const arr = Object.keys(this.listObj).map(v => this.listObj[v])\n      if (!this.checkAllSuccess()) {\n        this.$message('Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!')\n        return\n      }\n      this.$emit('successCBK', arr)\n      this.listObj = {}\n      this.fileList = []\n      this.dialogVisible = false\n    },\n    handleSuccess(response, file) {\n      const uid = file.uid\n      const objKeyArr = Object.keys(this.listObj)\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\n        if (this.listObj[objKeyArr[i]].uid === uid) {\n          this.listObj[objKeyArr[i]].url = response.files.file\n          this.listObj[objKeyArr[i]].hasSuccess = true\n          return\n        }\n      }\n    },\n    handleRemove(file) {\n      const uid = file.uid\n      const objKeyArr = Object.keys(this.listObj)\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\n        if (this.listObj[objKeyArr[i]].uid === uid) {\n          delete this.listObj[objKeyArr[i]]\n          return\n        }\n      }\n    },\n    beforeUpload(file) {\n      const _self = this\n      const _URL = window.URL || window.webkitURL\n      const fileName = file.uid\n      this.listObj[fileName] = {}\n      return new Promise((resolve, reject) => {\n        const img = new Image()\n        img.src = _URL.createObjectURL(file)\n        img.onload = function() {\n          _self.listObj[fileName] = { hasSuccess: false, uid: file.uid, width: this.width, height: this.height }\n        }\n        resolve(true)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.editor-slide-upload {\n  margin-bottom: 20px;\n  ::v-deep .el-upload--picture-card {\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditorImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditorImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorImage.vue?vue&type=template&id=0bb177bb&scoped=true&\"\nimport script from \"./EditorImage.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditorImage.vue?vue&type=style&index=0&id=0bb177bb&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bb177bb\",\n  null\n  \n)\n\nexport default component.exports","// Any plugins you want to use has to be imported\n// Detail plugins list see https://www.tinymce.com/docs/plugins/\n// Custom builds see https://www.tinymce.com/download/custom-builds/\n\nconst plugins = ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount']\n\nexport default plugins\n","// Here is a list of the toolbar\n// Detail list see https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols\n\nconst toolbar = ['searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen']\n\nexport default toolbar\n","let callbacks = []\n\nfunction loadedTinymce() {\n  // to fixed https://github.com/PanJiaChen/vue-element-admin/issues/2144\n  // check is successfully downloaded script\n  return window.tinymce\n}\n\nconst dynamicLoadScript = (src, callback) => {\n  const existingScript = document.getElementById(src)\n  const cb = callback || function() {}\n\n  if (!existingScript) {\n    const script = document.createElement('script')\n    script.src = src // src url for the third-party library being loaded.\n    script.id = src\n    document.body.appendChild(script)\n    callbacks.push(cb)\n    const onEnd = 'onload' in script ? stdOnEnd : ieOnEnd\n    onEnd(script)\n  }\n\n  if (existingScript && cb) {\n    if (loadedTinymce()) {\n      cb(null, existingScript)\n    } else {\n      callbacks.push(cb)\n    }\n  }\n\n  function stdOnEnd(script) {\n    script.onload = function() {\n      // this.onload = null here is necessary\n      // because even IE9 works not like others\n      this.onerror = this.onload = null\n      for (const cb of callbacks) {\n        cb(null, script)\n      }\n      callbacks = null\n    }\n    script.onerror = function() {\n      this.onerror = this.onload = null\n      cb(new Error('Failed to load ' + src), script)\n    }\n  }\n\n  function ieOnEnd(script) {\n    script.onreadystatechange = function() {\n      if (this.readyState !== 'complete' && this.readyState !== 'loaded') return\n      this.onreadystatechange = null\n      for (const cb of callbacks) {\n        cb(null, script) // there is no way to catch loading errors in IE8\n      }\n      callbacks = null\n    }\n  }\n}\n\nexport default dynamicLoadScript\n","<template>\n  <div\n    :class=\"{ fullscreen: fullscreen }\"\n    class=\"tinymce-container\"\n    :style=\"{ width: containerWidth }\"\n  >\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\n    <div class=\"editor-custom-btn-container\">\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * docs:\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\n */\nimport editorImage from \"./components/EditorImage\";\nimport plugins from \"./plugins\";\nimport toolbar from \"./toolbar\";\nimport load from \"./dynamicLoadScript\";\n\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\nconst tinymceCDN =\n  \"https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js\";\n\nexport default {\n  name: \"Tinymce\",\n  components: { editorImage },\n  props: {\n    id: {\n      type: String,\n      default: function () {\n        return (\n          \"vue-tinymce-\" +\n          +new Date() +\n          ((Math.random() * 1000).toFixed(0) + \"\")\n        );\n      },\n    },\n    value: {\n      type: String,\n      default: \"\",\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default() {\n        return [];\n      },\n    },\n    menubar: {\n      type: String,\n      default: \"file edit insert view format table\",\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 360,\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: \"auto\",\n    },\n  },\n  data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id,\n      fullscreen: false,\n      languageTypeList: {\n        en: \"en\",\n        zh: \"zh_CN\",\n        es: \"es_MX\",\n        ja: \"ja\",\n      },\n    };\n  },\n  computed: {\n    containerWidth() {\n      const width = this.width;\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) {\n        // matches `100`, `'100'`\n        return `${width}px`;\n      }\n      return width;\n    },\n  },\n  watch: {\n    value(val) {\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(() =>\n          window.tinymce.get(this.tinymceId).setContent(val || \"\")\n        );\n      }\n    },\n  },\n  mounted() {\n    this.init();\n  },\n  activated() {\n    if (window.tinymce) {\n      this.initTinymce();\n    }\n  },\n  deactivated() {\n    this.destroyTinymce();\n  },\n  destroyed() {\n    this.destroyTinymce();\n  },\n  methods: {\n    init() {\n      // dynamic load tinymce from cdn\n      load(tinymceCDN, (err) => {\n        if (err) {\n          this.$message.error(err.message);\n          return;\n        }\n        this.initTinymce();\n      });\n    },\n    initTinymce() {\n      const _this = this;\n      window.tinymce.init({\n        selector: `#${this.tinymceId}`,\n        language: this.languageTypeList[\"zh\"],\n        height: this.height,\n        body_class: \"panel-body \",\n        object_resizing: false,\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\n        menubar: this.menubar,\n        plugins: plugins,\n        end_container_on_empty_block: true,\n        powerpaste_word_import: \"clean\",\n        code_dialog_height: 450,\n        code_dialog_width: 1000,\n        advlist_bullet_styles: \"square\",\n        advlist_number_styles: \"default\",\n        imagetools_cors_hosts: [\"www.tinymce.com\", \"codepen.io\"],\n        default_link_target: \"_blank\",\n        link_title: false,\n        wordlimit: {\n          max: 20000, // 最多可以输入多少字\n          spaces: !1, // 是否含空格\n          isInput: !1, // 是否在超出后还可以输入\n          // 自定义的提示方法, 默认用编辑器自带\n          toast: (message) => {},\n        },\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\n        init_instance_callback: (editor) => {\n          if (_this.value) {\n            editor.setContent(_this.value);\n          }\n          _this.hasInit = true;\n          editor.on(\"NodeChange Change KeyUp SetContent\", () => {\n            this.hasChange = true;\n            this.$emit(\"input\", editor.getContent());\n          });\n          editor.on('wordlimit', function(e) {\n            console.log(e)\n            var beyond = 0;\n            if (e.wordCount > e.maxCount) {\n              beyond = e.wordCount - e.maxCount;\n            }\n            alert('最多只能输入' + e.maxCount + '个字' + (beyond > 0 ? '，已超出' + beyond + '个字，超出部分请删除' : '。'))\n            // 可以吧alert换成自己的提示组件\n            // message.error('最多只能输入' + e.maxCount + '个字' + (beyond > 0 ? '，已超出' + beyond + '个字，超出部分请删除' : '。'));\n          });\n        },\n        setup(editor) {\n          editor.on(\"FullscreenStateChanged\", (e) => {\n            _this.fullscreen = e.state;\n          });\n        },\n        // it will try to keep these URLs intact\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\n        convert_urls: false,\n        images_upload_url: '/demo/upimg.php',\n        images_upload_base_path: '/demo',\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      });\n    },\n    destroyTinymce() {\n      const tinymce = window.tinymce.get(this.tinymceId);\n      if (this.fullscreen) {\n        tinymce.execCommand(\"mceFullScreen\");\n      }\n\n      if (tinymce) {\n        tinymce.destroy();\n      }\n    },\n    setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value);\n    },\n    getContent() {\n      window.tinymce.get(this.tinymceId).getContent();\n    },\n    imageSuccessCBK(arr) {\n      arr.forEach((v) =>\n        window.tinymce\n          .get(this.tinymceId)\n          .insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`)\n      );\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tinymce-container {\n  position: relative;\n  line-height: normal;\n}\n\n.tinymce-container {\n  ::v-deep {\n    .mce-fullscreen {\n      z-index: 10000;\n    }\n  }\n}\n\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n\n.editor-custom-btn-container {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  /*z-index: 2005;*/\n}\n\n.fullscreen .editor-custom-btn-container {\n  z-index: 10000;\n  position: fixed;\n}\n\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=cdb551f2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=cdb551f2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdb551f2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"components-container\">\n    <tinymce v-model=\"content\" :height=\"300\" />\n  </div>\n</template>\n\n<script>\nimport Tinymce from '../components/tinymce'\nimport { str } from \"../utils/ud\";\n\nexport default {\n  name: 'TinymceDemo',\n  components: { Tinymce },\n  data() {\n    return {\n      content: str\n    }\n  }\n}\n</script>\n\n<style scoped>\n.editor-content{\n  margin-top: 20px;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ceshi5.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ceshi5.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ceshi5.vue?vue&type=template&id=596b2235&scoped=true&\"\nimport script from \"./ceshi5.vue?vue&type=script&lang=js&\"\nexport * from \"./ceshi5.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ceshi5.vue?vue&type=style&index=0&id=596b2235&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"596b2235\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","content","callback","$$v","expression","staticRenderFns","class","fullscreen","style","width","containerWidth","tinymceId","_v","on","imageSuccessCBK","background","color","borderColor","$event","dialogVisible","fileList","handleRemove","handleSuccess","beforeUpload","handleSubmit","name","props","type","default","data","listObj","methods","checkAllSuccess","img","hasSuccess","uid","height","resolve","component","plugins","toolbar","callbacks","loadedTinymce","window","tinymce","dynamicLoadScript","src","existingScript","document","getElementById","cb","script","createElement","id","body","appendChild","push","onEnd","stdOnEnd","ieOnEnd","onload","onerror","Error","onreadystatechange","readyState","tinymceCDN","components","editorImage","required","menubar","hasChange","hasInit","languageTypeList","en","zh","es","ja","computed","watch","mounted","activated","deactivated","destroyed","init","load","initTinymce","selector","language","body_class","object_resizing","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","wordlimit","max","spaces","isInput","toast","nonbreaking_force_tab","init_instance_callback","editor","_this","console","beyond","alert","setup","convert_urls","images_upload_url","images_upload_base_path","destroyTinymce","setContent","getContent","arr","get","insertContent","Tinymce"],"sourceRoot":""}