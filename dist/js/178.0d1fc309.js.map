{"version":3,"file":"js/178.0d1fc309.js","mappings":"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","sources":["webpack://a/./src/components/contextMenu.vue","webpack://a/src/components/contextMenu.vue","webpack://a/./src/components/contextMenu.vue?961b","webpack://a/./src/components/contextMenu.vue?8667","webpack://a/./src/views/editor.vue","webpack://a/./src/views/editor.vue?ab6d","webpack://a/./src/views/editor.vue?c590","webpack://a/src/views/editor.vue","webpack://a/./node_modules/fabric-history/src/index.min.js","webpack://a/./node_modules/uuid-random/index.js","webpack://a/./src/utils/aligningGuidelines.js","webpack://a/./src/utils/centeringGuidelines.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"context-menu\",style:(_vm.style),on:{\"mousedown\":function($event){$event.stopPropagation();},\"contextmenu\":function($event){$event.preventDefault();}}},[_vm._l((_vm.lists),function(item,index){return _c('p',{key:index,staticClass:\"box\",on:{\"click\":function($event){return _vm.handleLayer(item.key)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    :style=\"style\"\n    class=\"context-menu\"\n    v-show=\"show\"\n    @mousedown.stop\n    @contextmenu.prevent\n  >\n    <p\n      class=\"box\"\n      v-for=\"(item, index) in lists\"\n      :key=\"index\"\n      @click=\"handleLayer(item.key)\"\n    >\n      {{ item.name }}\n    </p>\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"context-menu\",\n  data() {\n    return {\n      lists: [\n        { key: \"upLayer\", name: \"上移图层\" },\n        { key: \"downLayer\", name: \"下移图层\" },\n        { key: \"topLayer\", name: \"置顶图层\" },\n        { key: \"footLayer\", name: \"置底图层\" },\n        { key: \"removeLayer\", name: \"删除图层\" },\n      ],\n      triggerShowFn: () => {},\n      triggerHideFn: () => {},\n      x: null,\n      y: null,\n      style: {},\n      binded: false,\n    };\n  },\n  props: {\n    target: null,\n    show: Boolean,\n  },\n  mounted() {\n    this.bindEvents();\n  },\n  watch: {\n    show(show) {\n      if (show) {\n        this.bindHideEvents();\n      } else {\n        this.unbindHideEvents();\n      }\n    },\n    target(target) {\n      this.bindEvents();\n    },\n  },\n  methods: {\n    //点击事件\n    handleLayer(type) {\n      this.$emit(\"handleLayer\", type);\n    },\n\n    // 初始化事件\n    bindEvents() {\n      this.$nextTick(() => {\n        if (!this.target || this.binded) return;\n        this.triggerShowFn = this.contextMenuHandler.bind(this);\n        this.target.addEventListener(\"contextmenu\", this.triggerShowFn);\n        this.binded = true;\n      });\n    },\n\n    // 取消绑定事件\n    unbindEvents() {\n      if (!this.target) return;\n      this.target.removeEventListener(\"contextmenu\", this.triggerShowFn);\n    },\n\n    // 绑定隐藏菜单事件\n    bindHideEvents() {\n      this.triggerHideFn = this.clickDocumentHandler.bind(this);\n      document.addEventListener(\"mousedown\", this.triggerHideFn);\n      document.addEventListener(\"mousewheel\", this.triggerHideFn);\n    },\n\n    // 取消绑定隐藏菜单事件\n    unbindHideEvents() {\n      document.removeEventListener(\"mousedown\", this.triggerHideFn);\n      document.removeEventListener(\"mousewheel\", this.triggerHideFn);\n    },\n\n    // 鼠标按压事件处理器\n    clickDocumentHandler(e) {\n      this.$emit(\"update:show\", false);\n    },\n\n    // 右键事件事件处理\n    contextMenuHandler(e) {\n      this.x = e.clientX;\n      this.y = e.clientY;\n      this.layout();\n      this.$emit(\"update:show\", true);\n      e.preventDefault();\n    },\n\n    // 布局\n    layout() {\n      this.style = {\n        left: this.x + \"px\",\n        top: this.y + \"px\",\n      };\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.context-menu {\n  display: block;\n  position: fixed;\n  background: #073474;\n  border: solid 1px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  padding: 10px;\n  z-index: 999;\n  font-size: 14px;\n  .box {\n    min-width: 75px;\n    height: 28px;\n    line-height: 28px;\n    text-align: center;\n    display: block;\n    color: #dde4f6;\n    cursor: pointer;\n  }\n  .box:hover {\n    background: #0a3b79;\n    color: #16c5bb;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./contextMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./contextMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./contextMenu.vue?vue&type=template&id=1bf60f0a&scoped=true&\"\nimport script from \"./contextMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./contextMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./contextMenu.vue?vue&type=style&index=0&id=1bf60f0a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bf60f0a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"fabric-top\"},[_c('div',{staticClass:\"btn\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"线段\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":function($event){return _vm.drawPolyLine('segments')}}},[_c('i',{staticClass:\"el-icon-share\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"多边形\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":function($event){return _vm.drawPolyLine('polygon')}}},[_c('i',{staticClass:\"el-icon-share\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"测试\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":_vm.test}},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"更改图片\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":_vm.changeImg}},[_c('i',{staticClass:\"el-icon-picture-outline\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"设计预览\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":_vm.showDesign}},[_c('i',{staticClass:\"el-icon-view\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"删除对象\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":_vm.removeObject}},[_c('i',{staticClass:\"el-icon-folder-delete\"})])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"content\":\"保存操作(Ctrl+s)\",\"placement\":\"top-end\"}},[_c('span',{on:{\"click\":_vm.saveDesign}},[_c('i',{staticClass:\"el-icon-folder-checked\"})])])],1)]),_c('div',{staticClass:\"fabric-con\"},[_c('div',{staticClass:\"side-bar\"},[_c('el-scrollbar',{staticClass:\"scrollbar\"},[_c('el-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.activeItem),callback:function ($$v) {_vm.activeItem=$$v},expression:\"activeItem\"}},_vm._l((_vm.List),function(list){return _c('el-collapse-item',{key:list.key,attrs:{\"title\":list.title,\"name\":list.key}},[_c('div',{staticClass:\"collapse-con\"},_vm._l((list.data),function(item,index){return _c('span',{key:index,attrs:{\"title\":item.data.name}},[_c('i',{class:item.data.icon,attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){return _vm.drag($event, item)}}})])}),0)])}),1)],1)],1),_c('div',{staticClass:\"fabric-body\",attrs:{\"id\":\"canvas-box\"},on:{\"drop\":function($event){return _vm.drop($event)},\"touchstart\":function($event){return _vm.drop($event)},\"dragover\":function($event){return _vm.allowDrop($event)}}},[_c('canvas',{attrs:{\"id\":\"designCanvas\"}})])]),_c('context-menu',{attrs:{\"target\":_vm.contextMenuTarget,\"show\":_vm.contextMenuVisible},on:{\"handleLayer\":_vm.handleLayer,\"update:show\":(show) =>\n        (_vm.contextMenuVisible = _vm.contextMenuObjHover\n          ? show\n          : _vm.contextMenuObjHover)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editor.vue?vue&type=template&id=44c8057e&scoped=true&\"\nimport script from \"./editor.vue?vue&type=script&lang=js&\"\nexport * from \"./editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=44c8057e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44c8057e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"content\">\n    <div class=\"fabric-top\">\n      <div class=\"btn\">\n        <el-tooltip class=\"item\" content=\"线段\" placement=\"top-end\">\n          <span @click=\"drawPolyLine('segments')\"\n            ><i class=\"el-icon-share\"></i\n          ></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"多边形\" placement=\"top-end\">\n          <span @click=\"drawPolyLine('polygon')\"\n            ><i class=\"el-icon-share\"></i\n          ></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"测试\" placement=\"top-end\">\n          <span @click=\"test\"><i class=\"el-icon-picture-outline\"></i></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"更改图片\" placement=\"top-end\">\n          <span @click=\"changeImg\"\n            ><i class=\"el-icon-picture-outline\"></i\n          ></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"设计预览\" placement=\"top-end\">\n          <span @click=\"showDesign\"><i class=\"el-icon-view\"></i></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"删除对象\" placement=\"top-end\">\n          <span @click=\"removeObject\"\n            ><i class=\"el-icon-folder-delete\"></i\n          ></span>\n        </el-tooltip>\n        <el-tooltip class=\"item\" content=\"保存操作(Ctrl+s)\" placement=\"top-end\">\n          <span @click=\"saveDesign\"\n            ><i class=\"el-icon-folder-checked\"></i\n          ></span>\n        </el-tooltip>\n      </div>\n    </div>\n    <div class=\"fabric-con\">\n      <div class=\"side-bar\">\n        <el-scrollbar class=\"scrollbar\">\n          <el-collapse v-model=\"activeItem\" accordion>\n            <el-collapse-item\n              :title=\"list.title\"\n              :name=\"list.key\"\n              :key=\"list.key\"\n              v-for=\"list in List\"\n            >\n              <div class=\"collapse-con\">\n                <span\n                  v-for=\"(item, index) in list.data\"\n                  :title=\"item.data.name\"\n                  :key=\"index\"\n                >\n                  <i\n                    :class=\"item.data.icon\"\n                    draggable=\"true\"\n                    @dragstart=\"drag($event, item)\"\n                  ></i>\n                </span>\n              </div>\n            </el-collapse-item>\n          </el-collapse>\n        </el-scrollbar>\n      </div>\n      <div\n        class=\"fabric-body\"\n        id=\"canvas-box\"\n        @drop=\"drop($event)\"\n        @touchstart=\"drop($event)\"\n        @dragover=\"allowDrop($event)\"\n      >\n        <canvas id=\"designCanvas\"></canvas>\n      </div>\n    </div>\n    <context-menu\n      :target=\"contextMenuTarget\"\n      :show=\"contextMenuVisible\"\n      @handleLayer=\"handleLayer\"\n      @update:show=\"\n        (show) =>\n          (contextMenuVisible = contextMenuObjHover\n            ? show\n            : contextMenuObjHover)\n      \"\n    >\n    </context-menu>\n  </div>\n</template>\n\n<script>\nimport { fabric } from \"fabric\";\nimport initAligningGuidelines from \"../utils/aligningGuidelines\";\nimport initCenteringGuidelines from \"../utils/centeringGuidelines\";\nimport ContextMenu from \"../components/contextMenu.vue\";\nimport echarts from \"echarts\";\nimport uuid from \"uuid-random\";\nimport \"fabric-history\";\nexport default {\n  components: { ContextMenu },\n  created() {},\n  mounted() {\n    this.init();\n  },\n  data() {\n    return {\n      contextMenuTarget: null,\n      contextMenuVisible: false,\n      contextMenuObjHover: false, //是否移到对象上了\n      activeItem: \"second\",\n      List: [\n        {\n          title: \"基本图形\",\n          key: \"first\",\n          data: [\n            {\n              data: {\n                name: \"矩形\",\n                icon: \"el-icon-s-marketing\",\n                type: \"Rect\",\n              },\n              width: 50,\n              height: 50,\n              fill: \"rgba(255,0,0,0.5)\",\n            },\n            {\n              data: {\n                name: \"圆形\",\n                icon: \"el-icon-s-marketing\",\n                type: \"Circle\",\n              },\n              radius: 50,\n              left: 12,\n              top: 12,\n              fill: \"#aac\",\n            },\n            {\n              width: 100,\n              height: 100,\n              fill: \"#cca\",\n              data: {\n                name: \"三角形\",\n                icon: \"el-icon-s-marketing\",\n                type: \"Triangle\",\n              },\n            },\n            {\n              data: { name: \"直线\", icon: \"el-icon-s-marketing\", type: \"Line\" },\n              fill: \"#5E2300\",\n              stroke: \"#5E2300\",\n              strokeWidth: 10,\n              width: 100,\n            },\n            {\n              data: {\n                name: \"文字\",\n                icon: \"el-icon-s-marketing\",\n                type: \"IText\",\n              },\n              lockScalingFlip: true, // 不能通过缩放为负值来翻转对象\n              lockUniScaling: false, // 对象非均匀缩放被锁定\n              fontSize: 16,\n              padding: 5,\n              fontFamily: \"arial black\",\n              fill: \"#ff0000\",\n            },\n          ],\n        },\n        {\n          title: \"自定义图形\",\n          key: \"second\",\n          data: [\n            {\n              data: {\n                name: \"自定义\",\n                icon: \"el-icon-s-marketing\",\n                type: \"Echart\",\n                value: 1,\n                width: 10,\n                handle: [\n                  `data.options.series.axisLine.lineStyle.width=data.width;`,\n                  `data.options.series.data[0].value=data.value;`,\n                ],\n                options: {\n                  title: {\n                    text: \"\",\n                    bottom: 15,\n                    x: \"center\",\n                    textStyle: {\n                      color: \"#999\",\n                      fontSize: \"16\",\n                    },\n                  },\n                  series: {\n                    name: \"title\",\n                    type: \"gauge\",\n                    radius: \"99%\",\n                    min: 1,\n                    max: 3,\n                    splitNumber: 0,\n                    axisLine: {\n                      lineStyle: {\n                        color: [\n                          [0.5, \"#00AB6F\"],\n                          [1, \"#E4E5ED\"],\n                        ],\n                        width: 10,\n                      },\n                    },\n                    splitLine: {\n                      show: false,\n                    },\n                    axisTick: {\n                      show: false,\n                    },\n                    axisLabel: {\n                      show: false,\n                    },\n                    pointer: {\n                      length: \"75%\",\n                      width: \"0.1%\",\n                    },\n                    itemStyle: {\n                      normal: {\n                        color: \"transparent\",\n                      },\n                    },\n                    detail: {\n                      show: true,\n                      textStyle: {\n                        fontSize: 26,\n                        color: \"#fff\",\n                      },\n                      formatter: \"{value}\",\n                      offsetCenter: [\"0%\", \"0%\"],\n                    },\n                    data: [{ value: 1.5 }],\n                  },\n                },\n              },\n              width: 100,\n              height: 100,\n              fill: \"transparent\",\n            },\n            {\n              width: 50,\n              height: 50,\n              data: {\n                name: \"自定义\",\n                icon: \"el-icon-s-marketing\",\n                type: \"Svg\",\n                imgsrc: \"images/wechat.svg\",\n              },\n            },\n          ],\n        },\n      ],\n      zoomPoint: \"\", //中心点\n      zoom: 1, //缩放比例\n      viewportTransform: null, //拖动画布后，存的距离上左的间距arr[0]比率；arr[4]左右移动的距离；arr[5]上下移动距离\n      design: \"\",\n      ActiveObject: {},\n      ActiveGroup: [],\n\n      //绘制参数\n      drawType: \"\", //绘制类型\n      drawWidth: 2, //笔触宽度\n      color: \"#E34F51\", //画笔颜色\n      drawingObject: null, //当前绘制对象\n      moveCount: 1, //绘制移动计数器\n      doDrawing: false, // 绘制状态\n\n      mouseFrom: {},\n      mouseTo: {},\n\n      polygonMode: false,\n      pointArray: [],\n      lineArray: [],\n      activeShape: false,\n      activeLine: \"\",\n      line: {},\n    };\n  },\n  methods: {\n    init: function () {\n      let _this = this;\n      _this.design = new fabric.Canvas(\"designCanvas\", {\n        backgroundColor: \"\",\n        // skipTargetFind: false, //当为真时，跳过目标检测。目标检测将返回始终未定义。点击选择将无效\n        // selectable: false,  //为false时，不能选择对象进行修改\n        // selection: false   // 是否可以多个对象为一组\n      });\n      initAligningGuidelines(_this.design); //初始化辅助线\n      initCenteringGuidelines(_this.design);\n      fabric.Object.prototype.originX = fabric.Object.prototype.originY =\n        \"center\";\n      let dom = document.getElementById(\"canvas-box\");\n      this.contextMenuTarget = dom;\n\n      _this.design.setWidth(dom.offsetWidth);\n      _this.design.setHeight(dom.offsetHeight);\n      this.zoomPoint = new fabric.Point(\n        _this.design.width / 2,\n        _this.design.height / 2\n      );\n      // window.onresize=function(){\n      //     _this.design.setWidth(dom.offsetWidth);\n      //     _this.design.setHeight(dom.offsetHeight);\n      //     console.log(_this.design)\n      //     // _this.design.zoomToPoint(_this.zoomPoint, _this.zoom);\n      //     // _this.design.requestRenderAll();\n      // };\n      document.onkeydown = function (event) {\n        if (_this && _this._isDestroyed) {\n          return;\n        } //摧毁组件了就不执行下面了，不然其他地方input框又可能不能输入下面的快捷键\n        var ev = event || window.event || arguments.callee.caller.arguments[0];\n        if (ev) {\n          switch (ev.keyCode) {\n            case 46: // 点击删除\n              _this.removeObject();\n              break;\n            case 90:\n              if (ev.ctrlKey) {\n                //撤销 ctrl+z\n                _this.design.undo();\n              }\n              break;\n            case 89:\n              if (ev.ctrlKey) {\n                //反撤销  ctrl+y\n                _this.design.redo();\n              }\n              break;\n            case 83:\n              ev.preventDefault();\n              if (ev.ctrlKey) {\n                _this.saveDesign();\n              }\n              break;\n          }\n        }\n      };\n      _this.design.on(\"mouse:wheel\", function (opt) {\n        console.log(this);\n        var delta = opt.e.deltaY;\n        _this.zoom = _this.design.getZoom();\n        _this.zoom *= 0.999 ** delta;\n        if (_this.zoom > 20) _this.zoom = 20;\n        if (_this.zoom < 0.01) _this.zoom = 0.01;\n        this.zoomToPoint(_this.zoomPoint, _this.zoom);\n        // this.setZoom(_this.zoom);\n        opt.e.preventDefault();\n        opt.e.stopPropagation();\n        _this.viewportTransform = this.viewportTransform;\n      });\n      _this.design.on(\"mouse:down\", function (opt) {\n        var evt = opt.e;\n        if (evt.altKey === true) {\n          this.isDragging = true;\n          this.selection = false;\n          this.lastPosX = evt.clientX;\n          this.lastPosY = evt.clientY;\n        }\n        //绘制\n        // 记录鼠标按下时的坐标\n        var xy = opt.pointer || _this.transformMouse(evt.offsetX, evt.offsetY);\n        _this.mouseFrom.x = xy.x;\n        _this.mouseFrom.y = xy.y;\n        _this.doDrawing = true;\n        // 绘制多边形\n        if (_this.drawType == \"polygon\" || _this.drawType == \"segments\") {\n          _this.design.skipTargetFind = false;\n          try {\n            // 此段为判断是否闭合多边形，点击红点时闭合多边形\n            if (_this.pointArray.length > 1) {\n              // opt.target.id == this.pointArray[0].id 表示点击了初始红点\n              if (\n                _this.drawType == \"polygon\" &&\n                opt.target &&\n                opt.target.id == _this.pointArray[0].id\n              ) {\n                _this.generatePolygon();\n              }\n              if (\n                _this.drawType == \"segments\" &&\n                opt.target &&\n                opt.target.id ==\n                  _this.pointArray[_this.pointArray.length - 1].id\n              ) {\n                _this.generateSegements();\n              }\n            }\n            //未点击红点则继续作画\n            if (_this.polygonMode) {\n              _this.addPoint(opt);\n            }\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      });\n      _this.design.on(\"mouse:move\", function (opt) {\n        var e = opt.e;\n        if (this.isDragging) {\n          var vpt = this.viewportTransform;\n          vpt[4] += e.clientX - this.lastPosX;\n          vpt[5] += e.clientY - this.lastPosY;\n          this.requestRenderAll();\n          this.lastPosX = e.clientX;\n          this.lastPosY = e.clientY;\n          _this.viewportTransform = this.viewportTransform;\n        }\n        //绘制\n        if (_this.moveCount % 3 && !_this.doDrawing) {\n          //减少绘制频率\n          return;\n        }\n        _this.moveCount++;\n        var xy = opt.pointer || _this.transformMouse(e.offsetX, e.offsetY);\n        _this.mouseTo.x = xy.x;\n        _this.mouseTo.y = xy.y;\n\n        if (_this.drawType == \"polygon\" || _this.drawType == \"segments\") {\n          if (_this.activeLine && _this.activeLine.class == \"line\") {\n            var pointer = _this.design.getPointer(e);\n            _this.activeLine.set({ x2: pointer.x, y2: pointer.y });\n            if (_this.drawType == \"polygon\") {\n              var points = _this.activeShape.get(\"points\");\n              points[_this.pointArray.length] = {\n                x: pointer.x,\n                y: pointer.y,\n                zIndex: 1,\n              };\n              _this.activeShape.set({\n                points: points,\n              });\n            }\n\n            // _this.design.renderAll();\n          }\n          _this.design.renderAll();\n        }\n      });\n      _this.design.on(\"mouse:up\", function (opt) {\n        var e = opt.e;\n        this.isDragging = false;\n        this.selection = true;\n\n        if (_this.drawType == \"polygon\" || _this.drawType == \"segments\") {\n          var xy = opt.pointer || _this.transformMouse(e.offsetX, e.offsetY);\n          _this.mouseTo.x = xy.x;\n          _this.mouseTo.y = xy.y;\n          _this.drawingObject = null;\n          _this.moveCount = 1;\n        }\n      });\n      _this.design.on(\"object:moving\", function (opt) {\n        console.log(opt);\n        let target = opt.target;\n        let point = opt.target;\n        target.startLine &&\n          target.startLine.set({ x2: target.left, y2: target.top });\n        target.endLine &&\n          target.endLine.set({ x1: target.left, y1: target.top });\n        if (point._objects) {\n          for (let i = 0; i < point._objects.length; i++) {\n            target = point._objects[i];\n            let left = point.left + target.left;\n            let top = point.top + target.top;\n            target.startLine && target.startLine.set({ x2: left, y2: top });\n            target.endLine && target.endLine.set({ x1: left, y1: top });\n          }\n        }\n        _this.design.renderAll();\n      });\n      _this.design.on(\"mouse:over\", function (opt) {\n        if (opt.target) {\n          console.log(opt);\n          _this.contextMenuObjHover = true;\n          if (opt.target._objects) {\n            _this.ActiveGroup = opt.target._objects;\n          } else {\n            _this.ActiveObject = opt.target;\n          }\n        }\n      });\n      _this.design.on(\"mouse:out\", function () {\n        _this.contextMenuObjHover = false;\n      });\n    },\n    transformMouse(mouseX, mouseY) {\n      return { x: mouseX / 1, y: mouseY / 1 };\n    },\n    //拖拽\n    drag: function (ev, item) {\n      ev.dataTransfer.setData(\"item\", JSON.stringify(item));\n    },\n    allowDrop: function (ev) {\n      ev.preventDefault();\n    },\n    drop: function (ev) {\n      var object = \"\";\n      // //开始缩放\n      this.design.zoomToPoint(this.zoomPoint, this.zoom);\n\n      var json = JSON.parse(ev.dataTransfer.getData(\"item\"));\n      var left = ev.offsetX;\n      var top = ev.offsetY;\n      //viewportTransform[0] 存的缩放比例；viewportTransform[4]X轴移动距离；this.viewportTransform[5]Y轴移动距离\n      if (this.viewportTransform) {\n        left = (left - this.viewportTransform[4]) / this.zoom;\n        top = (top - this.viewportTransform[5]) / this.zoom;\n      }\n      json.left = left;\n      json.top = top;\n      json.data[\"uuid\"] = uuid();\n      switch (json.data.type) {\n        case \"Line\":\n          //[终止位置，线长，起始位置，top]\n          object = new fabric.Line([left, json.width, left, top], json);\n          break;\n        case \"IText\":\n          object = new fabric.IText(\"文字信息\", json);\n          break;\n        case \"Echart\":\n          object = this.getCanvas(json);\n          break;\n        case \"Svg\":\n          this.getSvg(json);\n          break;\n        default:\n          object = new fabric[json.data.type](json);\n          break;\n      }\n      if (object != \"\") {\n        this.addObject(object);\n      }\n    },\n    addObject: function (object) {\n      object.toObject = (function (toObject) {\n        //赋值自定义属性\n        return function (properties) {\n          return fabric.util.object.extend(toObject.call(this, properties), {\n            data: this.data,\n          });\n        };\n      })(object.toObject);\n      this.design.add(object);\n    },\n    getCanvas: function (json) {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = json.width ? json.width * this.zoom : 100;\n      canvas.height = json.height ? json.height * this.zoom : 100;\n      console.log(canvas);\n      var myChart = echarts.init(canvas);\n      var data = json.data || {};\n      if (data.hasOwnProperty(\"handle\")) {\n        for (let i = 0; i < json.data.handle.length; i++) {\n          eval(data.handle[i]);\n        }\n      }\n      myChart.setOption(data.options, true);\n      var CanvasRect = fabric.util.createClass(fabric.Rect, {\n        type: \"canvasRect\",\n        initialize: function (options) {\n          options || (options = {});\n          this.callSuper(\"initialize\", options);\n          // this.set('label', options.label || '');\n        },\n        toObject: function () {\n          return fabric.util.object.extend(this.callSuper(\"toObject\"), {\n            // label: this.get('label'),\n          });\n        },\n        _render: function (ctx) {\n          this.callSuper(\"_render\", ctx);\n          var offcanvas = myChart.getRenderedCanvas({\n            pixelRatio: 2,\n            backgroundColor: \"\",\n          });\n          //在画布上定位图像，并规定图像的宽度和高度： ctx.drawImage(img,x,y,width,height);\n          ctx.drawImage(\n            offcanvas,\n            -(json.width / 2),\n            -(json.height / 2),\n            json.width,\n            json.height\n          );\n        },\n      });\n      console.log(new CanvasRect(json));\n      return new CanvasRect(json);\n    },\n    getSvg: function (json) {\n      let _this = this;\n      fabric.Image.fromURL(json.data.imgsrc, function (object) {\n        console.log(object);\n        object[\"data\"] = json.data;\n        object.set({\n          left: json.left,\n          top: json.top,\n          // scaleX:json.width/object.width,\n          // scaleY:json.height/object.height\n        });\n        object.scaleToWidth(json.width);\n        object.scaleToHeight(json.height);\n        _this.addObject(object);\n      });\n    },\n    changeImg: function () {\n      let _this = this;\n      if (this.design.getActiveObject()) {\n        let objects = this.design.getObjects();\n        let uuid = this.design.getActiveObject().data.uuid;\n        for (let i = 0; i < objects.length; i++) {\n          // //更改图片\n          if (objects[i].data.uuid == uuid && objects[i].data.type == \"Svg\") {\n            console.log(objects[i]);\n            let imgsrc = \"images/runstatus.svg\";\n            let json = objects[i];\n            json.data.imgsrc = imgsrc;\n            fabric.Image.fromURL(imgsrc, function (object) {\n              console.log(object);\n              object[\"data\"] = json.data;\n              object.set({\n                left: json.left,\n                top: json.top,\n              });\n              object.scaleToWidth(objects[i].width * objects[i].scaleX);\n              object.scaleToHeight(objects[i].height * objects[i].scaleY);\n              _this.design.remove(json);\n              _this.addObject(object);\n            });\n          }\n\n          //更改canvas\n          if (\n            objects[i].data.uuid == uuid &&\n            objects[i].data.type == \"Echart\"\n          ) {\n            console.log(objects[i]);\n            console.log(this.zoom);\n            let json = {\n              width: objects[i].width,\n              height: objects[i].height,\n              data: objects[i].data,\n            };\n            json.data.value = 5.2;\n\n            var canvas = document.createElement(\"canvas\");\n            canvas.width = json.width;\n            canvas.height = json.height;\n            console.log(canvas);\n            var myChart = echarts.init(canvas);\n            var data = json.data || {};\n            if (data.hasOwnProperty(\"handle\")) {\n              for (let i = 0; i < json.data.handle.length; i++) {\n                eval(data.handle[i]);\n              }\n            }\n            myChart.setOption(data.options, true);\n            var offcanvas = myChart.getRenderedCanvas({\n              pixelRatio: 2,\n              backgroundColor: \"\",\n            });\n            objects[i]._cacheContext.clearRect(\n              -(json.width / 2),\n              -(json.height / 2),\n              json.width,\n              json.height\n            );\n            objects[i]._cacheContext.drawImage(\n              offcanvas,\n              -(json.width / 2),\n              -(json.height / 2),\n              json.width,\n              json.height\n            );\n            this.design.renderAll();\n          }\n        }\n      }\n    },\n    //删除对象\n    removeObject: function () {\n      if (this.design.getActiveObject()) {\n        console.log(this.design.getActiveObject());\n        this.$confirm(\"确定删除？\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n        }).then(() => {\n          this.design.remove(this.design.getActiveObject());\n        });\n      } else {\n        this.$notify.warning(\"请选择需要删除的对象\");\n      }\n    },\n    //保存\n    saveDesign: function () {\n      //canvas.item(0).sourcePath = '/assets/dragon.svg';\n      sessionStorage.setItem(\n        \"canvasDesign\",\n        JSON.stringify(this.design.toDatalessJSON())\n      );\n      console.log(JSON.stringify(this.design.toJSON()));\n      this.$notify.success(\"保存成功！\");\n    },\n    //查看\n    showDesign: function () {\n      this.$router.push({ path: \"/show\" });\n    },\n    test: function () {\n      fabric.backgroundImage = \"https://source.unsplash.com/random\";\n    },\n\n    //绘制多边形\n    drawPolyLine: function (type) {\n      this.drawType = type;\n      this.polygonMode = true;\n      this.pointArray = []; // 顶点集合\n      this.lineArray = []; //线集合\n      this.design.isDrawingMode = false;\n    },\n    finishPolyLine: function () {\n      this.activeLine = null;\n      this.activeShape = null;\n      this.polygonMode = false;\n      this.doDrawing = false;\n      this.drawType = null;\n    },\n    generatePolygon() {\n      var points = [];\n      this.pointArray.map((point) => {\n        points.push({\n          x: point.left,\n          y: point.top,\n        });\n        this.design.remove(point);\n      });\n      this.lineArray.map((line) => {\n        this.design.remove(line);\n      });\n      this.design.remove(this.activeShape).remove(this.activeLine);\n      var polygon = new fabric.Polygon(points, {\n        stroke: this.color,\n        strokeWidth: this.drawWidth,\n        fill: \"rgba(255, 255, 255, 0)\",\n        opacity: 1,\n        hasBorders: true,\n        hasControls: false,\n      });\n      this.design.add(polygon);\n\n      this.finishPolyLine();\n    },\n    generateSegements() {\n      this.design.remove(this.lineArray[this.lineArray.length - 1]);\n      this.lineArray.splice(this.lineArray.length - 1, 1);\n\n      for (let i = 0; i < this.pointArray.length; i++) {\n        if (i == 0) {\n          this.pointArray[i].startLine = null;\n          this.pointArray[i].endLine = this.lineArray[0];\n        } else {\n          if (i == this.lineArray.length) {\n            this.pointArray[i].startLine = this.lineArray[i - 1];\n            this.pointArray[i].endLine = null;\n          } else {\n            this.pointArray[i].startLine = this.lineArray[i - 1];\n            this.pointArray[i].endLine = this.lineArray[i];\n          }\n        }\n      }\n\n      // for(let i=0;i<this.pointArray.length;i++){\n      //     if(i==0){\n      //         this.design.add(this.makeCircle(this.lineArray[i].get('x1'),this.lineArray[i].get('y1'),null,this.lineArray[i]));\n      //     }else{\n      //         if(i==this.lineArray.length){\n      //             this.design.add(this.makeCircle(this.lineArray[i-1].get('x2'),this.lineArray[i-1].get('y2'),this.lineArray[i-1],null));\n      //         }else{\n      //             this.design.add(this.makeCircle(this.lineArray[i-1].get('x2'),this.lineArray[i-1].get('y2'),this.lineArray[i-1],this.lineArray[i]));\n      //         }\n      //     }\n      // }\n\n      this.finishPolyLine();\n    },\n    makeCircle: function (left, top, line1, line2) {\n      var c = new fabric.Circle({\n        left: left,\n        top: top,\n        radius: 5,\n        fill: \"#ffffff\",\n        stroke: \"#333333\",\n        strokeWidth: 0.5,\n      });\n      c.hasControls = c.hasBorders = false;\n\n      c.startLine = line1;\n      c.endLine = line2;\n\n      return c;\n    },\n    addPoint(e) {\n      // var random = Math.floor(Math.random() * 10000);\n      // var id = new Date().getTime() + random;\n      var id = uuid();\n      var circle = new fabric.Circle({\n        radius: 5,\n        fill: \"#ffffff\",\n        stroke: \"#333333\",\n        strokeWidth: 0.5,\n        left: (e.pointer.x || e.e.layerX) / this.design.getZoom(),\n        top: (e.pointer.y || e.e.layerY) / this.design.getZoom(),\n        // selectable: false,\n        hasBorders: false,\n        hasControls: false,\n        originX: \"center\",\n        originY: \"center\",\n        id: id,\n        objectCaching: false,\n      });\n      var points = [\n        (e.pointer.x || e.e.layerX) / this.design.getZoom(),\n        (e.pointer.y || e.e.layerY) / this.design.getZoom(),\n        (e.pointer.x || e.e.layerX) / this.design.getZoom(),\n        (e.pointer.y || e.e.layerY) / this.design.getZoom(),\n      ];\n\n      this.line = new fabric.Line(points, {\n        strokeWidth: 2,\n        fill: \"#999999\",\n        stroke: \"#999999\",\n        class: \"line\",\n        originX: \"center\",\n        originY: \"center\",\n        selectable: false,\n        // hasBorders: false,\n        // hasControls: false,\n        evented: false,\n\n        objectCaching: false,\n      });\n      if (this.drawType == \"polygon\") {\n        if (this.activeShape) {\n          var pos = this.design.getPointer(e.e);\n          var p = this.activeShape.get(\"points\");\n          p.push({\n            x: pos.x,\n            y: pos.y,\n          });\n          let polygon = new fabric.Polygon(points, {\n            stroke: \"#333333\",\n            strokeWidth: 1,\n            fill: \"#cccccc\",\n            opacity: 0.3,\n\n            selectable: false,\n            hasBorders: false,\n            hasControls: false,\n            evented: false,\n            objectCaching: false,\n          });\n          this.design.remove(this.activeShape);\n          this.design.add(polygon);\n          this.activeShape = polygon;\n          this.design.renderAll();\n        } else {\n          var polyPoint = [\n            {\n              x: (e.pointer.x || e.e.layerX) / this.design.getZoom(),\n              y: (e.pointer.y || e.e.layerY) / this.design.getZoom(),\n            },\n          ];\n          let polygon = new fabric.Polygon(polyPoint, {\n            stroke: \"#333333\",\n            strokeWidth: 1,\n            fill: \"#cccccc\",\n            opacity: 0.3,\n\n            selectable: false,\n            hasBorders: false,\n            hasControls: false,\n            evented: false,\n            objectCaching: false,\n          });\n          this.activeShape = polygon;\n          this.design.add(polygon);\n        }\n      }\n\n      this.activeLine = this.line;\n\n      this.pointArray.push(circle);\n      this.lineArray.push(this.line);\n      this.design.add(this.line);\n      this.design.add(circle);\n    },\n    //操作图层\n    handleLayer: function (type) {\n      console.log(type);\n      switch (type) {\n        case \"upLayer\":\n          if (this.ActiveObject) {\n            this.ActiveObject.bringForward();\n          }\n          break;\n        case \"downLayer\":\n          if (this.ActiveObject) {\n            this.ActiveObject.sendBackwards();\n          }\n          break;\n        case \"topLayer\":\n          if (this.ActiveObject) {\n            this.ActiveObject.bringToFront();\n          }\n          break;\n        case \"footLayer\":\n          if (this.ActiveObject) {\n            this.ActiveObject.sendToBack();\n          }\n          break;\n        case \"removeLayer\":\n          if (this.ActiveObject) {\n            this.$confirm(\"确定删除？\", \"提示\", {\n              confirmButtonText: \"确定\",\n              cancelButtonText: \"取消\",\n              type: \"warning\",\n            }).then(() => {\n              console.log(this.ActiveObject);\n              this.design.remove(this.ActiveObject);\n              this.ActiveObject = null;\n            });\n          }\n          break;\n        default:\n      }\n      this.contextMenuVisible = false;\n    },\n  },\n  watch: {\n    drawType() {\n      this.design.selection = !this.drawType;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  width: 100%;\n  height: 100%;\n  background: #061c47;\n  .fabric-top {\n    width: 100%;\n    height: 60px;\n    font-size: 16px;\n    background: #052b62;\n    text-align: right;\n    padding: 0 20px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .item {\n      color: #dde4f6;\n      margin-left: 20px;\n      font-size: 30px;\n      line-height: 60px;\n      cursor: pointer;\n    }\n  }\n  .fabric-con {\n    width: 100%;\n    height: calc(100% - 60px);\n    display: flex;\n  }\n  .fabric-body {\n    width: calc(100% - 225px);\n    height: 100%;\n  }\n  .side-bar {\n    width: 225px;\n    height: 100%;\n    display: block;\n    background: #073474;\n    color: #dde4f6;\n    z-index: 999;\n    transition: all 0.5s ease-in;\n    .collapse-con {\n      padding: 15px 10px 0;\n      display: flex;\n      flex-wrap: wrap;\n      span {\n        display: block;\n        margin: 0 5px;\n        cursor: move;\n        i {\n          font-size: 40px;\n          color: #dde4f6;\n        }\n      }\n    }\n    .el-collapse{\n        border-color: #0A3B79;\n    }\n    .el-collapse-item__header {\n        background: #0A3B79;\n        color: #fff;\n        border-bottom-color: #073474;\n        padding-left: 20px;\n    }\n    .el-collapse-item__wrap{\n        background-color: #073474;\n        border-color: #073474;\n    }\n    .el-collapse-item__arrow{\n        font-size: 16px;\n    }\n    .el-collapse-item.is-active .el-collapse-item__header{\n        color: #16c5bb;\n    }\n    .el-scrollbar__wrap{\n        overflow-x: hidden; \n    }\n  }\n}\n</style>\n\n","fabric.Canvas.prototype.initialize=function(t){return function(...i){return t.call(this,...i),this._historyInit(),this}}(fabric.Canvas.prototype.initialize),fabric.Canvas.prototype.dispose=function(t){return function(...i){return t.call(this,...i),this._historyDispose(),this}}(fabric.Canvas.prototype.dispose),fabric.Canvas.prototype._historyNext=function(){return JSON.stringify(this.toDatalessJSON(this.extraProps))},fabric.Canvas.prototype._historyEvents=function(){return{\"object:added\":this._historySaveAction,\"object:removed\":this._historySaveAction,\"object:modified\":this._historySaveAction,\"object:skewing\":this._historySaveAction}},fabric.Canvas.prototype._historyInit=function(){this.historyUndo=[],this.historyRedo=[],this.extraProps=[\"selectable\",\"editable\"],this.historyNextState=this._historyNext(),this.on(this._historyEvents())},fabric.Canvas.prototype._historyDispose=function(){this.off(this._historyEvents())},fabric.Canvas.prototype._historySaveAction=function(){if(this.historyProcessing)return;const t=this.historyNextState;this.historyUndo.push(t),this.historyNextState=this._historyNext(),this.fire(\"history:append\",{json:t})},fabric.Canvas.prototype.undo=function(t){this.historyProcessing=!0;const i=this.historyUndo.pop();i?(this.historyRedo.push(this._historyNext()),this.historyNextState=i,this._loadHistory(i,\"history:undo\",t)):this.historyProcessing=!1},fabric.Canvas.prototype.redo=function(t){this.historyProcessing=!0;const i=this.historyRedo.pop();i?(this.historyUndo.push(this._historyNext()),this.historyNextState=i,this._loadHistory(i,\"history:redo\",t)):this.historyProcessing=!1},fabric.Canvas.prototype._loadHistory=function(t,i,s){var o=this;this.loadFromJSON(t,function(){o.renderAll(),o.fire(i),o.historyProcessing=!1,s&&\"function\"==typeof s&&s()})},fabric.Canvas.prototype.clearHistory=function(){this.historyUndo=[],this.historyRedo=[],this.fire(\"history:clear\")},fabric.Canvas.prototype.onHistory=function(){this.historyProcessing=!1,this._historySaveAction()},fabric.Canvas.prototype.offHistory=function(){this.historyProcessing=!0};","\"use strict\";\n\n(function(){\n\n  var\n    buf,\n    bufIdx = 0,\n    hexBytes = [],\n    i\n  ;\n\n  // Pre-calculate toString(16) for speed\n  for (i = 0; i < 256; i++) {\n    hexBytes[i] = (i + 0x100).toString(16).substr(1);\n  }\n\n  // Buffer random numbers for speed\n  // Reduce memory usage by decreasing this number (min 16)\n  // or improve speed by increasing this number (try 16384)\n  uuid.BUFFER_SIZE = 4096;\n\n  // Binary uuids\n  uuid.bin = uuidBin;\n\n  // Clear buffer\n  uuid.clearBuffer = function() {\n    buf = null;\n    bufIdx = 0;\n  };\n\n  // Test for uuid\n  uuid.test = function(uuid) {\n    if (typeof uuid === 'string') {\n      return /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(uuid);\n    }\n    return false;\n  };\n\n  // Node & Browser support\n  var crypt0;\n  if (typeof crypto !== 'undefined') {\n    crypt0 = crypto;\n  } else if( (typeof window !== 'undefined') && (typeof window.msCrypto !== 'undefined')) {\n    crypt0 = window.msCrypto; // IE11\n  }\n\n  if ((typeof module !== 'undefined') && (typeof require === 'function')) {\n    crypt0 = crypt0 || require('crypto');\n    module.exports = uuid;\n  } else if (typeof window !== 'undefined') {\n    window.uuid = uuid;\n  }\n\n  // Use best available PRNG\n  // Also expose this so you can override it.\n  uuid.randomBytes = (function(){\n    if (crypt0) {\n      if (crypt0.randomBytes) {\n        return crypt0.randomBytes;\n      }\n      if (crypt0.getRandomValues) {\n        if (typeof Uint8Array.prototype.slice !== 'function') {\n          return function(n) {\n            var bytes = new Uint8Array(n);\n            crypt0.getRandomValues(bytes);\n            return Array.from(bytes);\n          };\n        }\n        return function(n) {\n          var bytes = new Uint8Array(n);\n          crypt0.getRandomValues(bytes);\n          return bytes;\n        };\n      }\n    }\n    return function(n) {\n      var i, r = [];\n      for (i = 0; i < n; i++) {\n        r.push(Math.floor(Math.random() * 256));\n      }\n      return r;\n    };\n  })();\n\n  // Buffer some random bytes for speed\n  function randomBytesBuffered(n) {\n    if (!buf || ((bufIdx + n) > uuid.BUFFER_SIZE)) {\n      bufIdx = 0;\n      buf = uuid.randomBytes(uuid.BUFFER_SIZE);\n    }\n    return buf.slice(bufIdx, bufIdx += n);\n  }\n\n  // uuid.bin\n  function uuidBin() {\n    var b = randomBytesBuffered(16);\n    b[6] = (b[6] & 0x0f) | 0x40;\n    b[8] = (b[8] & 0x3f) | 0x80;\n    return b;\n  }\n\n  // String UUIDv4 (Random)\n  function uuid() {\n    var b = uuidBin();\n    return hexBytes[b[0]] + hexBytes[b[1]] +\n      hexBytes[b[2]] + hexBytes[b[3]] + '-' +\n      hexBytes[b[4]] + hexBytes[b[5]] + '-' +\n      hexBytes[b[6]] + hexBytes[b[7]] + '-' +\n      hexBytes[b[8]] + hexBytes[b[9]] + '-' +\n      hexBytes[b[10]] + hexBytes[b[11]] +\n      hexBytes[b[12]] + hexBytes[b[13]] +\n      hexBytes[b[14]] + hexBytes[b[15]]\n    ;\n  }\n\n})();\n","/**\n * Should objects be aligned by a bounding box?\n * [Bug] Scaled objects sometimes can not be aligned by edges\n *\n */\nfunction initAligningGuidelines(canvas) {\n\n    var ctx = canvas.getSelectionContext(),\n        aligningLineOffset = 5,\n        aligningLineMargin = 4,\n        aligningLineWidth = 1,\n        aligningLineColor = 'rgb(0,255,0)',\n        viewportTransform,\n        zoom = 1;\n  \n    function drawVerticalLine(coords) {\n      drawLine(\n        coords.x + 0.5,\n        coords.y1 > coords.y2 ? coords.y2 : coords.y1,\n        coords.x + 0.5,\n        coords.y2 > coords.y1 ? coords.y2 : coords.y1);\n    }\n  \n    function drawHorizontalLine(coords) {\n      drawLine(\n        coords.x1 > coords.x2 ? coords.x2 : coords.x1,\n        coords.y + 0.5,\n        coords.x2 > coords.x1 ? coords.x2 : coords.x1,\n        coords.y + 0.5);\n    }\n  \n    function drawLine(x1, y1, x2, y2) {\n      ctx.save();\n      ctx.lineWidth = aligningLineWidth;\n      ctx.strokeStyle = aligningLineColor;\n      ctx.beginPath();\n      ctx.moveTo(((x1+viewportTransform[4])*zoom), ((y1+viewportTransform[5])*zoom));\n      ctx.lineTo(((x2+viewportTransform[4])*zoom), ((y2+viewportTransform[5])*zoom));\n      ctx.stroke();\n      ctx.restore();\n    }\n  \n    function isInRange(value1, value2) {\n      value1 = Math.round(value1);\n      value2 = Math.round(value2);\n      for (var i = value1 - aligningLineMargin, len = value1 + aligningLineMargin; i <= len; i++) {\n        if (i === value2) {\n          return true;\n        }\n      }\n      return false;\n    }\n  \n    var verticalLines = [],\n        horizontalLines = [];\n  \n    canvas.on('mouse:down', function () {\n      viewportTransform = canvas.viewportTransform;\n      zoom = canvas.getZoom();\n    });\n  \n    canvas.on('object:moving', function(e) {\n  \n      var activeObject = e.target,\n          canvasObjects = canvas.getObjects(),\n          activeObjectCenter = activeObject.getCenterPoint(),\n          activeObjectLeft = activeObjectCenter.x,\n          activeObjectTop = activeObjectCenter.y,\n          activeObjectBoundingRect = activeObject.getBoundingRect(),\n          activeObjectHeight = activeObjectBoundingRect.height / viewportTransform[3],\n          activeObjectWidth = activeObjectBoundingRect.width / viewportTransform[0],\n          horizontalInTheRange = false,\n          verticalInTheRange = false,\n          transform = canvas._currentTransform;\n  \n      if (!transform) return;\n  \n      // It should be trivial to DRY this up by encapsulating (repeating) creation of x1, x2, y1, and y2 into functions,\n      // but we're not doing it here for perf. reasons -- as this a function that's invoked on every mouse move\n  \n      for (var i = canvasObjects.length; i--; ) {\n  \n        if (canvasObjects[i] === activeObject) continue;\n  \n        var objectCenter = canvasObjects[i].getCenterPoint(),\n            objectLeft = objectCenter.x,\n            objectTop = objectCenter.y,\n            objectBoundingRect = canvasObjects[i].getBoundingRect(),\n            objectHeight = objectBoundingRect.height / viewportTransform[3],\n            objectWidth = objectBoundingRect.width / viewportTransform[0];\n  \n        // snap by the horizontal center line\n        if (isInRange(objectLeft, activeObjectLeft)) {\n          verticalInTheRange = true;\n          verticalLines.push({\n            x: objectLeft,\n            y1: (objectTop < activeObjectTop)\n              ? (objectTop - objectHeight / 2 - aligningLineOffset)\n              : (objectTop + objectHeight / 2 + aligningLineOffset),\n            y2: (activeObjectTop > objectTop)\n              ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n              : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(objectLeft, activeObjectTop), 'center', 'center');\n        }\n  \n        // snap by the left edge\n        if (isInRange(objectLeft - objectWidth / 2, activeObjectLeft - activeObjectWidth / 2)) {\n          verticalInTheRange = true;\n          verticalLines.push({\n            x: objectLeft - objectWidth / 2,\n            y1: (objectTop < activeObjectTop)\n              ? (objectTop - objectHeight / 2 - aligningLineOffset)\n              : (objectTop + objectHeight / 2 + aligningLineOffset),\n            y2: (activeObjectTop > objectTop)\n              ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n              : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(objectLeft - objectWidth / 2 + activeObjectWidth / 2, activeObjectTop), 'center', 'center');\n        }\n  \n        // snap by the right edge\n        if (isInRange(objectLeft + objectWidth / 2, activeObjectLeft + activeObjectWidth / 2)) {\n          verticalInTheRange = true;\n          verticalLines.push({\n            x: objectLeft + objectWidth / 2,\n            y1: (objectTop < activeObjectTop)\n              ? (objectTop - objectHeight / 2 - aligningLineOffset)\n              : (objectTop + objectHeight / 2 + aligningLineOffset),\n            y2: (activeObjectTop > objectTop)\n              ? (activeObjectTop + activeObjectHeight / 2 + aligningLineOffset)\n              : (activeObjectTop - activeObjectHeight / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(objectLeft + objectWidth / 2 - activeObjectWidth / 2, activeObjectTop), 'center', 'center');\n        }\n  \n        // snap by the vertical center line\n        if (isInRange(objectTop, activeObjectTop)) {\n          horizontalInTheRange = true;\n          horizontalLines.push({\n            y: objectTop,\n            x1: (objectLeft < activeObjectLeft)\n              ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n              : (objectLeft + objectWidth / 2 + aligningLineOffset),\n            x2: (activeObjectLeft > objectLeft)\n              ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n              : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop), 'center', 'center');\n        }\n  \n        // snap by the top edge\n        if (isInRange(objectTop - objectHeight / 2, activeObjectTop - activeObjectHeight / 2)) {\n          horizontalInTheRange = true;\n          horizontalLines.push({\n            y: objectTop - objectHeight / 2,\n            x1: (objectLeft < activeObjectLeft)\n              ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n              : (objectLeft + objectWidth / 2 + aligningLineOffset),\n            x2: (activeObjectLeft > objectLeft)\n              ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n              : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop - objectHeight / 2 + activeObjectHeight / 2), 'center', 'center');\n        }\n  \n        // snap by the bottom edge\n        if (isInRange(objectTop + objectHeight / 2, activeObjectTop + activeObjectHeight / 2)) {\n          horizontalInTheRange = true;\n          horizontalLines.push({\n            y: objectTop + objectHeight / 2,\n            x1: (objectLeft < activeObjectLeft)\n              ? (objectLeft - objectWidth / 2 - aligningLineOffset)\n              : (objectLeft + objectWidth / 2 + aligningLineOffset),\n            x2: (activeObjectLeft > objectLeft)\n              ? (activeObjectLeft + activeObjectWidth / 2 + aligningLineOffset)\n              : (activeObjectLeft - activeObjectWidth / 2 - aligningLineOffset)\n          });\n          activeObject.setPositionByOrigin(new fabric.Point(activeObjectLeft, objectTop + objectHeight / 2 - activeObjectHeight / 2), 'center', 'center');\n        }\n      }\n  \n      if (!horizontalInTheRange) {\n        horizontalLines.length = 0;\n      }\n  \n      if (!verticalInTheRange) {\n        verticalLines.length = 0;\n      }\n    });\n  \n    canvas.on('before:render', function() {\n      canvas.clearContext(canvas.contextTop);\n    });\n  \n    canvas.on('after:render', function() {\n      for (var i = verticalLines.length; i--; ) {\n        drawVerticalLine(verticalLines[i]);\n      }\n      for (var i = horizontalLines.length; i--; ) {\n        drawHorizontalLine(horizontalLines[i]);\n      }\n  \n      verticalLines.length = horizontalLines.length = 0;\n    });\n  \n    canvas.on('mouse:up', function() {\n      verticalLines.length = horizontalLines.length = 0;\n      canvas.renderAll();\n    });\n  }\n  export default initAligningGuidelines;","/**\n * Augments canvas by assigning to `onObjectMove` and `onAfterRender`.\n * This kind of sucks because other code using those methods will stop functioning.\n * Need to fix it by replacing callbacks with pub/sub kind of subscription model.\n * (or maybe use existing fabric.util.fire/observe (if it won't be too slow))\n */\nfunction initCenteringGuidelines(canvas) {\n\n    var canvasWidth = canvas.getWidth(),\n        canvasHeight = canvas.getHeight(),\n        canvasWidthCenter = canvasWidth / 2,\n        canvasHeightCenter = canvasHeight / 2,\n        canvasWidthCenterMap = { },\n        canvasHeightCenterMap = { },\n        centerLineMargin = 4,\n        centerLineColor = 'rgba(255,0,241,0.5)',\n        centerLineWidth = 1,\n        ctx = canvas.getSelectionContext(),\n        viewportTransform;\n  \n    for (var i = canvasWidthCenter - centerLineMargin, len = canvasWidthCenter + centerLineMargin; i <= len; i++) {\n      canvasWidthCenterMap[Math.round(i)] = true;\n    }\n    for (var i = canvasHeightCenter - centerLineMargin, len = canvasHeightCenter + centerLineMargin; i <= len; i++) {\n      canvasHeightCenterMap[Math.round(i)] = true;\n    }\n  \n    function showVerticalCenterLine() {\n      showCenterLine(canvasWidthCenter + 0.5, 0, canvasWidthCenter + 0.5, canvasHeight);\n    }\n  \n    function showHorizontalCenterLine() {\n      showCenterLine(0, canvasHeightCenter + 0.5, canvasWidth, canvasHeightCenter + 0.5);\n    }\n  \n    function showCenterLine(x1, y1, x2, y2) {\n      ctx.save();\n      ctx.strokeStyle = centerLineColor;\n      ctx.lineWidth = centerLineWidth;\n      ctx.beginPath();\n      ctx.moveTo(x1 * viewportTransform[0], y1 * viewportTransform[3]);\n      ctx.lineTo(x2 * viewportTransform[0], y2 * viewportTransform[3]);\n      ctx.stroke();\n      ctx.restore();\n    }\n  \n    var afterRenderActions = [],\n        isInVerticalCenter,\n        isInHorizontalCenter;\n  \n    canvas.on('mouse:down', function () {\n      viewportTransform = canvas.viewportTransform;\n    });\n  \n    canvas.on('object:moving', function(e) {\n      var object = e.target,\n          objectCenter = object.getCenterPoint(),\n          transform = canvas._currentTransform;\n  \n      if (!transform) return;\n  \n      isInVerticalCenter = Math.round(objectCenter.x) in canvasWidthCenterMap,\n      isInHorizontalCenter = Math.round(objectCenter.y) in canvasHeightCenterMap;\n  \n      if (isInHorizontalCenter || isInVerticalCenter) {\n        object.setPositionByOrigin(new fabric.Point((isInVerticalCenter ? canvasWidthCenter : objectCenter.x), (isInHorizontalCenter ? canvasHeightCenter : objectCenter.y)), 'center', 'center');\n      }\n    });\n  \n    canvas.on('before:render', function() {\n      canvas.clearContext(canvas.contextTop);\n    });\n  \n    canvas.on('after:render', function() {\n      if (isInVerticalCenter) {\n        showVerticalCenterLine();\n      }\n      if (isInHorizontalCenter) {\n        showHorizontalCenterLine();\n      }\n    });\n  \n    canvas.on('mouse:up', function() {\n      // clear these values, to stop drawing guidelines once mouse is up\n      isInVerticalCenter = isInHorizontalCenter = null;\n      canvas.renderAll();\n    });\n  }\n  export default initCenteringGuidelines;"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","show","expression","staticClass","style","on","$event","stopPropagation","preventDefault","_l","lists","item","index","key","handleLayer","_v","_s","_t","staticRenderFns","data","triggerShowFn","triggerHideFn","x","y","binded","props","target","mounted","watch","methods","bindEvents","unbindEvents","bindHideEvents","document","unbindHideEvents","clickDocumentHandler","contextMenuHandler","e","layout","left","top","component","attrs","drawPolyLine","test","changeImg","showDesign","removeObject","saveDesign","model","activeItem","callback","$$v","List","list","title","class","icon","drag","drop","allowDrop","contextMenuTarget","contextMenuVisible","contextMenuObjHover","components","ContextMenu","created","type","width","height","fill","radius","stroke","strokeWidth","lockScalingFlip","lockUniScaling","fontSize","padding","fontFamily","handle","options","text","bottom","textStyle","color","series","min","max","splitNumber","axisLine","lineStyle","splitLine","axisTick","axisLabel","pointer","length","itemStyle","normal","detail","formatter","offsetCenter","imgsrc","zoomPoint","zoom","viewportTransform","design","ActiveObject","ActiveGroup","drawType","drawWidth","drawingObject","moveCount","doDrawing","mouseFrom","mouseTo","polygonMode","pointArray","lineArray","activeShape","activeLine","line","init","_this","backgroundColor","initAligningGuidelines","initCenteringGuidelines","fabric","ev","console","opt","vpt","x2","y2","points","zIndex","x1","y1","transformMouse","json","object","addObject","getCanvas","canvas","eval","myChart","initialize","toObject","_render","pixelRatio","ctx","offcanvas","getSvg","objects","confirmButtonText","cancelButtonText","sessionStorage","JSON","path","finishPolyLine","generatePolygon","opacity","hasBorders","hasControls","generateSegements","makeCircle","c","addPoint","originX","originY","id","objectCaching","selectable","evented","p","Canvas","prototype","t","i","call","_historyInit","dispose","_historyDispose","_historyNext","stringify","toDatalessJSON","extraProps","_historyEvents","_historySaveAction","historyUndo","historyRedo","historyNextState","off","historyProcessing","push","fire","undo","pop","_loadHistory","redo","s","o","loadFromJSON","renderAll","clearHistory","onHistory","offHistory","buf","crypt0","bufIdx","hexBytes","toString","substr","randomBytesBuffered","n","uuid","BUFFER_SIZE","randomBytes","slice","uuidBin","b","bin","clearBuffer","crypto","window","msCrypto","require","module","exports","getRandomValues","Uint8Array","bytes","Array","from","r","Math","floor","random","getSelectionContext","aligningLineOffset","aligningLineMargin","aligningLineWidth","aligningLineColor","drawVerticalLine","coords","drawLine","drawHorizontalLine","save","lineWidth","strokeStyle","beginPath","moveTo","lineTo","restore","isInRange","value1","value2","round","len","verticalLines","horizontalLines","getZoom","activeObject","canvasObjects","getObjects","activeObjectCenter","getCenterPoint","activeObjectLeft","activeObjectTop","activeObjectBoundingRect","getBoundingRect","activeObjectHeight","activeObjectWidth","horizontalInTheRange","verticalInTheRange","transform","_currentTransform","objectCenter","objectLeft","objectTop","objectBoundingRect","objectHeight","objectWidth","setPositionByOrigin","Point","clearContext","contextTop","canvasWidth","getWidth","canvasHeight","getHeight","canvasWidthCenter","canvasHeightCenter","canvasWidthCenterMap","canvasHeightCenterMap","centerLineMargin","centerLineColor","centerLineWidth","showVerticalCenterLine","showCenterLine","showHorizontalCenterLine","isInVerticalCenter","isInHorizontalCenter"],"sourceRoot":""}