{"version":3,"file":"js/867.7bb4c429.js","mappings":"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","sources":["webpack://a/./src/views/gsap/macbook-pro-animation/canvas-animation.vue","webpack://a/src/views/gsap/macbook-pro-animation/canvas-animation.vue","webpack://a/./src/views/gsap/macbook-pro-animation/canvas-animation.vue?f0d7","webpack://a/./src/views/gsap/macbook-pro-animation/canvas-animation.vue?0087","webpack://a/./src/views/gsap/macbook-pro-animation/images/m2_max/ sync ^\\.\\/medium_00.*\\.jpg$","webpack://a/./src/views/gsap/macbook-pro-animation/images/m2_pro/ sync ^\\.\\/medium_00.*\\.jpg$"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"container\"}},[_c('canvas',{attrs:{\"id\":\"canvas\",\"width\":\"308\",\"height\":\"308\"}}),_c('canvas',{attrs:{\"id\":\"canvas-max\",\"width\":\"308\",\"height\":\"308\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"container\">\n        <canvas id=\"canvas\" width=\"308\" height=\"308\"></canvas>\n        <canvas id=\"canvas-max\" width=\"308\" height=\"308\"></canvas>\n    </div>\n</template>\n\n<script>\nexport default {\n    mounted() {\n        // 参考：滚动条控制播放的canvas逐帧动画\n        // https://www.cnblogs.com/acttan/p/16334229.html\n        let count = 0\n        const sources = {}\n        const sourcesMax = {}\n        let imgIndex = 0\n        const canvasWidth = '308'\n        const canvasHeight = '308'\n        let ctx = document.querySelector('#canvas')?.getContext('2d')\n        let ctxMax = document.querySelector('#canvas-max')?.getContext('2d')\n\n        const renderImg = () => {\n            if (sources[imgIndex]) {\n                console.log('ctx', sources[imgIndex], canvasWidth, canvasHeight)\n                ctx.clearRect(0, 0, canvasWidth, canvasHeight)\n                ctx.drawImage(sources[imgIndex], 0, 0)\n                ctxMax.clearRect(0, 0, canvasWidth, canvasHeight)\n                ctxMax.drawImage(sourcesMax[imgIndex], 0, 0)\n            }\n        }\n\n        const loadImages = () => {\n            let images = {}\n            let imagesMax = {}\n            for (let i = 0; i <= 52; i++) {\n                images[i] = new Image()\n                let n = i < 10 ? `0${i}` : `${i}`\n                images[i].src = require(`./images/m2_pro/medium_00${n}.jpg`)\n                images[i].onload = () => {                  \n                    count++\n                    if (i === 0) {\n                        renderImg()\n                    }\n                }\n                sources[i] = images[i]\n\n                imagesMax[i] = new Image()\n                imagesMax[i].src = require(`./images/m2_max/medium_00${n}.jpg`)\n                imagesMax[i].onload = () => {                  \n                    if (i === 0) {\n                        renderImg()\n                    }\n                }\n                sourcesMax[i] = imagesMax[i]\n            }\n        }\n\n        let flag = false\n        // document.documentElement.scrollTop\n        let scrollX = document.body.clientHeight - document.documentElement.clientHeight\n        console.log(scrollX)\n        const scrollHandler = () => {\n            if (flag) {\n                return\n            }\n            requestAnimationFrame(() => {\n                let top = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\n                // 根据总滚动高度，以及帧动画图片数量，计算是否是向下滚动\n                // const topNum = Math.round(top / (scrollX / count)) // 1000px 6;  500px 2\n                const topNum = Math.round(top / 10) // 1000px 6;  500px 2\n                let n = topNum - imgIndex\n                console.log('>>', n, top, topNum, imgIndex)\n                if (n > 0) {\n                    // 向下滚动\n                    for (let i = 0; i < n; i++) {\n                        imgIndex++\n                        renderImg()\n                    }\n                } else {\n                    for (let i = 0; i < -n; i++) {\n                        imgIndex--\n                        renderImg()\n                    }\n                }\n                flag = false\n            })\n            flag = true\n        }\n\n        loadImages()\n        window.addEventListener('scroll', scrollHandler)\n\n        // 滚动时固定位置\n        gsap.registerPlugin(ScrollTrigger);\n        // pin 为 true 时，触发动画的元素 在滚动时可以保持不向上滚动，让整个容器在滚动时固定\n        gsap.to(\"#container\", {\n            opacity: 1,\n            scrollTrigger: {\n                trigger: \"#container\",\n                duration: 2,\n                start: \"top 15px\",\n                scrub: true, // 表示动画可以重复执行改成false表示只执行一次\n                //   markers: true, //  绘制开始位置和结束位置的线条\n                pin: true, // 动画执行期间，页面不进行滚动，动画执行结束后\n            },\n        });\n    }\n};\n</script>\n\n<style>\nbody {\n    height: 3000px;\n}\n#container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  max-width: 700px;\n  padding: 5%;\n  background-image: url(\"./images/m2_bg__e4dkdscoyaaa_medium.jpeg\");\n}\n#container canvas {\n  margin-bottom: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./canvas-animation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./canvas-animation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./canvas-animation.vue?vue&type=template&id=601daa74&\"\nimport script from \"./canvas-animation.vue?vue&type=script&lang=js&\"\nexport * from \"./canvas-animation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./canvas-animation.vue?vue&type=style&index=0&id=601daa74&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var map = {\n\t\"./medium_0000.jpg\": 37559,\n\t\"./medium_0001.jpg\": 10031,\n\t\"./medium_0002.jpg\": 45738,\n\t\"./medium_0003.jpg\": 84979,\n\t\"./medium_0004.jpg\": 98668,\n\t\"./medium_0005.jpg\": 72335,\n\t\"./medium_0006.jpg\": 73312,\n\t\"./medium_0007.jpg\": 48444,\n\t\"./medium_0008.jpg\": 73898,\n\t\"./medium_0009.jpg\": 27922,\n\t\"./medium_0010.jpg\": 62156,\n\t\"./medium_0011.jpg\": 42981,\n\t\"./medium_0012.jpg\": 75997,\n\t\"./medium_0013.jpg\": 29420,\n\t\"./medium_0014.jpg\": 86394,\n\t\"./medium_0015.jpg\": 6685,\n\t\"./medium_0016.jpg\": 37226,\n\t\"./medium_0017.jpg\": 476,\n\t\"./medium_0018.jpg\": 7291,\n\t\"./medium_0019.jpg\": 78011,\n\t\"./medium_0020.jpg\": 71360,\n\t\"./medium_0021.jpg\": 53226,\n\t\"./medium_0022.jpg\": 24706,\n\t\"./medium_0023.jpg\": 63761,\n\t\"./medium_0024.jpg\": 2193,\n\t\"./medium_0025.jpg\": 1505,\n\t\"./medium_0026.jpg\": 36054,\n\t\"./medium_0027.jpg\": 46538,\n\t\"./medium_0028.jpg\": 4321,\n\t\"./medium_0029.jpg\": 28233,\n\t\"./medium_0030.jpg\": 40935,\n\t\"./medium_0031.jpg\": 55102,\n\t\"./medium_0032.jpg\": 91848,\n\t\"./medium_0033.jpg\": 51168,\n\t\"./medium_0034.jpg\": 87469,\n\t\"./medium_0035.jpg\": 21075,\n\t\"./medium_0036.jpg\": 25526,\n\t\"./medium_0037.jpg\": 46215,\n\t\"./medium_0038.jpg\": 72706,\n\t\"./medium_0039.jpg\": 72387,\n\t\"./medium_0040.jpg\": 29186,\n\t\"./medium_0041.jpg\": 76505,\n\t\"./medium_0042.jpg\": 19835,\n\t\"./medium_0043.jpg\": 2637,\n\t\"./medium_0044.jpg\": 4487,\n\t\"./medium_0045.jpg\": 97494,\n\t\"./medium_0046.jpg\": 60312,\n\t\"./medium_0047.jpg\": 93378,\n\t\"./medium_0048.jpg\": 91438,\n\t\"./medium_0049.jpg\": 33670,\n\t\"./medium_0050.jpg\": 27634,\n\t\"./medium_0051.jpg\": 96000,\n\t\"./medium_0052.jpg\": 95048\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 98782;","var map = {\n\t\"./medium_0000.jpg\": 80769,\n\t\"./medium_0001.jpg\": 90054,\n\t\"./medium_0002.jpg\": 42485,\n\t\"./medium_0003.jpg\": 70345,\n\t\"./medium_0004.jpg\": 84744,\n\t\"./medium_0005.jpg\": 28017,\n\t\"./medium_0006.jpg\": 808,\n\t\"./medium_0007.jpg\": 62239,\n\t\"./medium_0008.jpg\": 96176,\n\t\"./medium_0009.jpg\": 16577,\n\t\"./medium_0010.jpg\": 55398,\n\t\"./medium_0011.jpg\": 47377,\n\t\"./medium_0012.jpg\": 57126,\n\t\"./medium_0013.jpg\": 66690,\n\t\"./medium_0014.jpg\": 34569,\n\t\"./medium_0015.jpg\": 83574,\n\t\"./medium_0016.jpg\": 29967,\n\t\"./medium_0017.jpg\": 2973,\n\t\"./medium_0018.jpg\": 31061,\n\t\"./medium_0019.jpg\": 64484,\n\t\"./medium_0020.jpg\": 56401,\n\t\"./medium_0021.jpg\": 12283,\n\t\"./medium_0022.jpg\": 34318,\n\t\"./medium_0023.jpg\": 970,\n\t\"./medium_0024.jpg\": 81565,\n\t\"./medium_0025.jpg\": 8914,\n\t\"./medium_0026.jpg\": 89026,\n\t\"./medium_0027.jpg\": 72767,\n\t\"./medium_0028.jpg\": 87371,\n\t\"./medium_0029.jpg\": 82099,\n\t\"./medium_0030.jpg\": 55842,\n\t\"./medium_0031.jpg\": 14654,\n\t\"./medium_0032.jpg\": 5994,\n\t\"./medium_0033.jpg\": 29162,\n\t\"./medium_0034.jpg\": 50824,\n\t\"./medium_0035.jpg\": 22765,\n\t\"./medium_0036.jpg\": 98634,\n\t\"./medium_0037.jpg\": 82000,\n\t\"./medium_0038.jpg\": 89023,\n\t\"./medium_0039.jpg\": 32287,\n\t\"./medium_0040.jpg\": 76821,\n\t\"./medium_0041.jpg\": 9913,\n\t\"./medium_0042.jpg\": 39125,\n\t\"./medium_0043.jpg\": 89229,\n\t\"./medium_0044.jpg\": 78997,\n\t\"./medium_0045.jpg\": 43072,\n\t\"./medium_0046.jpg\": 22069,\n\t\"./medium_0047.jpg\": 86106,\n\t\"./medium_0048.jpg\": 48377,\n\t\"./medium_0049.jpg\": 72128,\n\t\"./medium_0050.jpg\": 10501,\n\t\"./medium_0051.jpg\": 89534,\n\t\"./medium_0052.jpg\": 33784\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 54081;"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","attrs","mounted","console","ctx","ctxMax","images","renderImg","sources","imagesMax","sourcesMax","requestAnimationFrame","imgIndex","flag","loadImages","window","gsap","opacity","scrollTrigger","trigger","duration","start","scrub","pin","component","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}